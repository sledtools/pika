{"id":"pika-05g","title":"Implement group image support (MIP-01 ChaCha20-Poly1305 + Blossom)","description":"image_hash, image_key, image_nonce are always None in NostrGroupConfigData. MIP-01 specifies ChaCha20-Poly1305 encryption for group images, Blossom protocol upload, and deterministic keypair derivation via HKDF-Expand(image_key, 'mip01-blossom-upload-v1', 32). Not a protocol violation (zeroed fields are allowed) but a feature gap. Ref: mod.rs:580-582, mod.rs:841-849","status":"open","priority":4,"issue_type":"feature","created_at":"2026-02-15T22:26:17.427762-06:00","created_by":"e","updated_at":"2026-02-15T22:26:17.427762-06:00"}
{"id":"pika-1ib","title":"Implement post-join self-update after Welcome processing","description":"After accept_welcome(), pika rotates the KeyPackage and refreshes storage but does NOT perform an MLS self-update (Update proposal for the member's own LeafNode). MIP-02 requires: RECOMMENDED: self-update immediately after processing Welcome, before sending any application messages. MUST: self-update within 24 hours of joining. The init_key from the consumed KeyPackage was published to relays and may have been observed — self-update generates fresh key material for forward secrecy. Ref: mod.rs:676-690","status":"open","priority":1,"issue_type":"bug","created_at":"2026-02-15T22:26:17.2278-06:00","created_by":"e","updated_at":"2026-02-15T22:26:17.2278-06:00"}
{"id":"pika-2dq","title":"[marmot-ts] Reject hex-encoded events per MIP-00 PR#38","description":"marmot-protocol/marmot#38 removes hex encoding support from MIP-00/MIP-02. The encoding tag is now mandatory and MUST be base64; hex MUST be rejected.\n\nmarmot-ts still supports hex in several places:\n- encoding.ts: EncodingFormat type includes 'hex', decodeContent() auto-detects and accepts hex, detectEncoding() returns 'hex' for hex-looking content\n- key-package-event.ts:65: getKeyPackage() defaults to 'hex' when encoding tag is absent\n- encoding.ts:8: docstring says 'supported for backward compatibility'\n\nAfter PR#38 merges: remove hex from EncodingFormat, reject events with missing or non-base64 encoding tags, remove detectEncoding() hex path.\n\nBlocked on: marmot-protocol/marmot#38 merging.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-16T10:23:13.053009-06:00","created_by":"e","updated_at":"2026-02-16T10:23:13.053009-06:00","labels":["marmot-spec"]}
{"id":"pika-324","title":"[Vector] No kind:10051 KeyPackage Relays List Event (MIP-00)","description":"Vector never publishes kind:10051 events to advertise which relays contain keypackages. Hardcodes TRUSTED_RELAYS everywhere. Other Marmot clients can't discover where Vector users' keypackages are published. Limits interoperability.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-15T23:31:54.036692-06:00","created_by":"e","updated_at":"2026-02-15T23:31:54.036692-06:00","labels":["marmot-spec","vector"]}
{"id":"pika-46z","title":"MIP-01 spec does not describe v2 extension format used by MDK","description":"See marmot-protocol/marmot#35 and #36. MDK uses CURRENT_VERSION=2 for the marmot_group_data extension, but MIP-01 only describes version 1. Root cause of all TLS wire format incompatibilities: admin_pubkeys/relays encoding (Vec\u003cVec\u003cu8\u003e\u003e vs comma-separated opaque), extra image_upload_key field, variable-length image fields, and v2 HKDF contexts. GitHub issues filed on marmot repo.","status":"open","priority":0,"issue_type":"bug","created_at":"2026-02-15T22:44:02.055054-06:00","created_by":"e","updated_at":"2026-02-15T22:52:22.132571-06:00"}
{"id":"pika-6wz","title":"[Vector] No signing key rotation (MIP-00)","description":"MDK provides a public self_update() API (groups.rs:1125-1221) that generates a new signature keypair and creates an MLS self-update commit. However, Vector NEVER calls this API. No periodic key rotation, no rotation after welcome acceptance, no rotation UI. The API exists — Vector just needs to wire it up.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-02-15T23:31:33.635324-06:00","created_by":"e","updated_at":"2026-02-15T23:42:44.554524-06:00","labels":["marmot-spec","vector"]}
{"id":"pika-7et","title":"[Vector] No commit race condition resolution (MIP-03 violation)","description":"MIP-03 requires that when receiving multiple Commits for the same epoch, clients MUST apply exactly one using timestamp priority + lexicographic ID tiebreaker. Vector has no implementation of this. It processes events in created_at order and relies entirely on MDK. If MDK doesn't implement this resolution strategy, competing commits from multiple admins will cause state divergence.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-02-15T23:31:16.778805-06:00","created_by":"e","updated_at":"2026-02-15T23:42:35.230433-06:00","closed_at":"2026-02-15T23:42:35.230433-06:00","close_reason":"MDK handles this: epoch_snapshots.rs implements is_better_candidate() with MIP-03 timestamp priority + lexicographic ID tiebreaker, plus rollback support via create_snapshot/rollback_to_epoch.","labels":["marmot-spec","vector"]}
{"id":"pika-7sp","title":"[Vector] No post-join self-update (MIP-02)","description":"MDK provides self_update() API for post-join self-updates. MIP-02: members SHOULD perform self-update before sending messages after joining, MUST within 24 hours. Vector never calls self_update() after accept_mls_welcome(). Fix: call engine.self_update(group_id) after accepting welcome, publish the evolution event, then merge_pending_commit().","status":"open","priority":1,"issue_type":"bug","created_at":"2026-02-15T23:31:36.956557-06:00","created_by":"e","updated_at":"2026-02-15T23:42:47.575633-06:00","labels":["marmot-spec","vector"]}
{"id":"pika-8dn","title":"[Vector] Typing indicator wrapper uses real keypair (MIP-03)","description":"In messaging.rs:138-139, typing indicators re-sign the wrapper with MY_KEYS (persistent Nostr keypair) rather than an ephemeral keypair. MIP-03 requires ephemeral keypairs for each kind 445 event to protect member identities. This leaks sender identity at the wrapper level for typing events.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-15T23:32:27.630775-06:00","created_by":"e","updated_at":"2026-02-15T23:32:27.630775-06:00","labels":["marmot-spec","vector"]}
{"id":"pika-99y","title":"publish_evolution_event is fully optimistic: no relay confirmation, no acceptance check","description":"Root cause: publish_evolution_event() (mod.rs:2165-2207) fires GroupEvolutionPublished { ok: true } immediately (mod.rs:2192) before the async send_event_to (mod.rs:2203). The handler then merges the pending commit (mod.rs:913) and sends welcomes (mod.rs:930) on that optimistic success.\n\nTwo compounding defects:\n1. Commit merged locally before relay confirmation — violates MIP-03 ('Send → Wait for ack → Then apply locally')\n2. Relay acceptance is never checked at all — unlike key-package publish (session.rs:193 checks output.success), evolution publish ignores Output.success/failed entirely. Local merge happens even if every relay rejects the commit.\n\nScope: affects ALL evolution operations, not just add-members:\n- add_members (mod.rs:795)\n- remove_members (mod.rs:2086)\n- leave_group (mod.rs:2115)\n- rename_group (mod.rs:2154)\n\nFor add-members specifically, Welcomes are sent before Commit confirmation, violating MIP-02 ('Don't send the Welcome until relays confirm receipt of the Commit') and risking state forks.\n\nFix: rewrite publish_evolution_event to await relay confirmation (check output.success), then emit GroupEvolutionPublished. Model after session.rs:192-225 (key-package publish pattern). Consider retry logic for transient failures.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-02-15T22:26:17.100673-06:00","created_by":"e","updated_at":"2026-02-15T23:58:38.509434-06:00","closed_at":"2026-02-15T23:58:38.509434-06:00","close_reason":"Fixed in PR #107: publish_evolution_event now awaits relay confirmation with retries"}
{"id":"pika-9eo","title":"[Vector] Merge-before-publish inverts MIP-03 commit ordering","description":"MDK explicitly documents this is the application's responsibility. In groups.rs remove_members() docs: 'This function doesn't merge the pending commit. Clients must call this function manually only after successful publish of the commit message to relays.' Vector does the opposite: merges locally first (mod.rs:575-583), then publishes commit in background via tokio::spawn (mod.rs:590). For add_members, same pattern. Fix: publish commit, await relay ACK, THEN merge_pending_commit().","notes":"Fixed in Vector PR #46 — merge_pending_commit moved after relay confirmation","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-15T23:31:47.898878-06:00","created_by":"e","updated_at":"2026-02-16T09:52:46.659788-06:00","closed_at":"2026-02-16T09:52:46.65979-06:00","labels":["marmot-spec","vector"],"comments":[{"id":2,"issue_id":"pika-9eo","author":"e","text":"Pika core fix landed in PR 107 (commit af13890). Vector implementation still pending — same merge-before-publish pattern exists in add_member_device and remove_member_device.","created_at":"2026-02-16T07:06:12Z"},{"id":4,"issue_id":"pika-9eo","author":"e","text":"Vector PR submitted: https://github.com/VectorPrivacy/Vector/pull/46 — fixes merge-before-publish ordering in both add_member_device and remove_member_device.","created_at":"2026-02-16T07:19:45Z"}]}
{"id":"pika-9lq","title":"Allow setting group description in UI","description":"DEFAULT_GROUP_DESCRIPTION is empty string and there is no UI to set or edit group descriptions. MIP-01 marmot_group_data extension has a description field (0-65535 bytes UTF-8, SHOULD be limited to 1000 chars). Cosmetic gap — the field is structurally supported but never populated by user input.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-02-15T22:26:17.491714-06:00","created_by":"e","updated_at":"2026-02-15T22:26:17.491714-06:00"}
{"id":"pika-9mz","title":"Implement periodic signing key rotation in groups","description":"MIP-00 says: 'All group members should regularly rotate their signing key within each group on a regular basis. This limits compromise impact and improves forward secrecy.' Pika has no timer or background task triggering self-updates (Update proposals for the user's own LeafNode). Should implement a periodic rotation schedule, e.g. daily or on app foreground after N hours.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-15T22:26:17.289459-06:00","created_by":"e","updated_at":"2026-02-15T22:26:17.289459-06:00"}
{"id":"pika-9vd","title":"MIP-01 TLS encoding of admin_pubkeys/relays is ambiguous","description":"See marmot-protocol/marmot#35. MIP-01 spec defines admin_pubkeys and relays as single opaque\u003c0..2^16-1\u003e with comma-separated values. MDK uses Vec\u003cVec\u003cu8\u003e\u003e (individually length-prefixed elements). Completely different wire format. GitHub issue filed on marmot repo.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-02-15T22:44:02.11787-06:00","created_by":"e","updated_at":"2026-02-15T22:52:55.882129-06:00","dependencies":[{"issue_id":"pika-9vd","depends_on_id":"pika-46z","type":"blocks","created_at":"2026-02-15T22:44:06.233036-06:00","created_by":"daemon"}]}
{"id":"pika-ax3","title":"[marmot-ts] Welcome publish failure silently swallowed","description":"Welcomes are sent via Promise.allSettled() with a TODO comment: 'need to detect publish failure to attempt to send later.' If all welcome deliveries fail, the invited member never joins but no error is surfaced to the caller. Location: marmot-group.ts line 554/613.","notes":"Fixed in marmot-ts PR #44 — welcome failures now surfaced via allSettled check + publishWithRetries","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-16T01:29:39.759687-06:00","created_by":"e","updated_at":"2026-02-16T09:52:39.782881-06:00","closed_at":"2026-02-16T09:52:39.782884-06:00","labels":["marmot-ts"]}
{"id":"pika-b18","title":"Fix optimistic Welcome/Commit timing: wait for relay confirmation before sending Welcomes","description":"publish_evolution_event() sends GroupEvolutionPublished optimistically before relay confirmation. When adding members to existing groups, Welcome messages are sent before the Commit is confirmed by relays. MIP-02 requires: 'Don't send the Welcome until relays confirm receipt of the Commit.' This can cause state forks where new members activate at epoch N+1 while existing members are still at epoch N. Fix: await relay confirmation in publish_evolution_event(), then merge_pending_commit(), then send Welcomes. Ref: mod.rs:2190-2201, mod.rs:918-933","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-02-15T22:26:17.034074-06:00","created_by":"e","updated_at":"2026-02-15T22:31:05.053589-06:00","closed_at":"2026-02-15T22:31:05.053589-06:00","close_reason":"Merged into pika-99y: same root cause (optimistic publish_evolution_event)","dependencies":[{"issue_id":"pika-b18","depends_on_id":"pika-99y","type":"blocks","created_at":"2026-02-15T22:27:25.15497-06:00","created_by":"daemon"}]}
{"id":"pika-byj","title":"Implement group hygiene: inactive member removal and stale data pruning","description":"MIP-03 recommends: 'Remove inactive members: suggest to admins that inactive members be removed. Rotate signing keys regularly. Prune stale data when members are removed.' None of this is implemented. Low priority since it's a SHOULD, not a MUST. Could surface UI hints to admins about members who haven't been active.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-02-15T22:26:17.356188-06:00","created_by":"e","updated_at":"2026-02-15T22:26:17.356188-06:00"}
{"id":"pika-c5j","title":"[Vector] No group image encryption (MIP-01)","description":"The entire group image encryption workflow (ChaCha20-Poly1305 + HKDF + Blossom upload) from MIP-01 is unimplemented. Vector passes None for image_hash, image_key, image_nonce. avatar_ref exists in metadata but is never populated.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-02-15T23:32:27.555563-06:00","created_by":"e","updated_at":"2026-02-15T23:32:27.555563-06:00","labels":["marmot-spec","vector"]}
{"id":"pika-c66","title":"[marmot-ts] No NIP-70 protected tags on key packages (MIP-00)","description":"Key package events (kind 443) are published without NIP-70 protected tag support. Some relays strip unrecognized tags from events, which can corrupt key package data. MIP-00 requires proper tag protection. Location: key-package-event.ts.","notes":"Fixed in marmot-ts PR #44 — NIP-70 tag added as opt-in per maintainer feedback (many relays reject protected events)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-16T01:29:39.758775-06:00","created_by":"e","updated_at":"2026-02-16T09:52:39.816684-06:00","closed_at":"2026-02-16T09:52:39.816687-06:00","labels":["marmot-ts"]}
{"id":"pika-d8f","title":"[Vector] No KeyPackage deletion from relays after joining (MIP-00)","description":"MIP-00: clients SHOULD delete consumed keypackages from relays. Vector only replaces by publishing new ones but never sends delete requests for old events. kind 443 is not a replaceable event kind, so old keypackages accumulate on relays.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-15T23:32:27.402324-06:00","created_by":"e","updated_at":"2026-02-15T23:32:27.402324-06:00","labels":["marmot-spec","vector"]}
{"id":"pika-dpb","title":"[marmot-ts] No post-join self-update (MIP-02 SHOULD)","description":"After joinGroupFromWelcome(), marmot-ts does not perform a self-update commit. MIP-02 says clients SHOULD self-update before sending any messages and MUST within 24 hours. The init_key from the consumed KeyPackage was potentially observed by adversaries on relays. Self-update provides forward secrecy by rotating to fresh key material. Location: marmot-client.ts joinGroupFromWelcome() lines 341-480.","notes":"Partially fixed in marmot-ts PR #44 — admin joiners self-update via empty commit. Non-admin path blocked by ts-mls limitation: no HPKE private key retention for externally-constructed ProposalUpdate. Needs ts-mls createSelfUpdateProposal().","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-16T01:29:39.761922-06:00","created_by":"e","updated_at":"2026-02-16T09:52:39.880691-06:00","closed_at":"2026-02-16T09:52:39.880693-06:00","labels":["marmot-ts"]}
{"id":"pika-hiw","title":"[marmot-ts] No retry on relay publish failure","description":"publish_event_with_retries throws NoRelayReceivedEventError on first failure with no retries. NIP-42 relays requiring auth before accepting protected events will always fail on first attempt. pika core uses 5-attempt exponential backoff (250ms base) with auth/protected error detection. marmot-ts should add similar retry logic or expose a hook for callers.","notes":"Fixed in marmot-ts PR #44 — added publishWithRetries() with 5-attempt exponential backoff + jitter","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-16T01:29:39.76079-06:00","created_by":"e","updated_at":"2026-02-16T09:52:39.739549-06:00","closed_at":"2026-02-16T09:52:39.739552-06:00","labels":["marmot-ts"]}
{"id":"pika-igi","title":"[Vector] Commit not confirmed before Welcome sent (MIP-02 violation)","description":"MDK explicitly leaves commit-before-welcome ordering to the application for add_members(). MDK enforces it only for create_group() (commit merged before welcome built). In Vector's add_member_device() (mod.rs:588-613), the commit is published via tokio::spawn() in the background and welcomes are sent concurrently — no await on relay ACK before welcome. MDK docs say 'Clients must call merge_pending_commit manually only after successful publish.' Vector violates this. Fix: await relay confirmation of evolution_event, THEN send welcomes.","notes":"Fixed in Vector PR #46 — publish_event_with_retries + background spawn pattern (relay confirm → merge → welcome)","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-02-15T23:31:15.89649-06:00","created_by":"e","updated_at":"2026-02-16T09:52:46.628185-06:00","closed_at":"2026-02-16T09:52:46.628187-06:00","labels":["marmot-spec","vector"],"comments":[{"id":1,"issue_id":"pika-igi","author":"e","text":"PR 107 (pika core) pushed: af13890 await relay confirmation, f9e8491 fix retry logic, 245711e clear busy state immediately. Awaiting review from AnthonyRonning. Investigated nostr-sdk: send_event_to has 10s per-relay OK timeout, pool waits for ALL relays. Busy-state fix decouples spinner from background relay confirmation. Vector implementation still pending.","created_at":"2026-02-16T07:06:12Z"},{"id":3,"issue_id":"pika-igi","author":"e","text":"Vector PR submitted: https://github.com/VectorPrivacy/Vector/pull/46 — defers merge_pending_commit until relay confirmation in add_member_device and remove_member_device. Uses spawn+callback pattern so Tauri commands return immediately.","created_at":"2026-02-16T07:19:45Z"}]}
{"id":"pika-iz8","title":"[Vector] No compatibility checking before group creation (MIP-01)","description":"MIP-01: 'clients must verify compatibility with intended members by checking their published KeyPackage events.' Vector only checks for encoding tag but does not verify ciphersuite compatibility, extension support, or capabilities negotiation. Ciphersuite mismatch fails with confusing MDK error.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-15T23:32:27.480909-06:00","created_by":"e","updated_at":"2026-02-15T23:32:27.480909-06:00","labels":["marmot-spec","vector"]}
{"id":"pika-kc1","title":"[marmot-ts] No signing key rotation (MIP-00)","description":"No mechanism for periodic signing key rotation within groups. MIP-00 says all group members should regularly rotate their signing key via Update proposals to their own LeafNode. No rotation lifecycle management exists in marmot-ts.","notes":"Fixed in marmot-ts PR #44 — added MarmotClient.rotateKeyPackage() method","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-16T01:29:39.760408-06:00","created_by":"e","updated_at":"2026-02-16T09:52:39.848021-06:00","closed_at":"2026-02-16T09:52:39.848024-06:00","labels":["marmot-ts"]}
{"id":"pika-l08","title":"[Vector] No admin verification for incoming commits (MIP-03)","description":"MIP-03: 'Sender MUST be listed in admin_pubkeys' for non-self-update commits. Vector does not perform any admin verification when processing incoming commits during sync_group_since_cursor(). It trusts MDK's process_message() entirely. If MDK doesn't enforce this, non-admins could issue structural commits. Need to verify MDK behavior or add app-level check.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-15T23:31:40.647046-06:00","created_by":"e","updated_at":"2026-02-15T23:42:37.19812-06:00","closed_at":"2026-02-15T23:42:37.19812-06:00","close_reason":"MDK handles this: messages/validation.rs:284-332 validate_commit_authorization() checks admin_pubkeys from NostrGroupDataExtension, returns CommitFromNonAdmin for unauthorized non-self-update commits.","labels":["marmot-spec","vector"]}
{"id":"pika-nf0","title":"[Vector] No self-update commit validation (MIP-03)","description":"MIP-03 requires verifying that self-update commits contain ONLY an Update proposal for the sender's own LeafNode. Vector does not validate this when processing incoming commits. Malformed self-updates could be accepted.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-15T23:32:27.705522-06:00","created_by":"e","updated_at":"2026-02-15T23:42:38.653308-06:00","closed_at":"2026-02-15T23:42:38.653308-06:00","close_reason":"MDK handles this: messages/validation.rs:155-204 is_pure_self_update_commit() uses whitelist approach - only allows Update proposals for sender's own LeafNode, rejects any other proposal type (Add, Remove, GroupContextExtensions, etc.).","labels":["marmot-spec","vector"]}
{"id":"pika-pvw","title":"[Vector] NIP-70 '-' tag stripped from keypackages (MIP-00)","description":"commands/mls.rs:138-141 filters out the '-' tag that MDK adds, citing relay compatibility. MIP-00 says this tag 'ensures only the author can publish this event.' Deliberate spec violation that weakens authorship protection. Tradeoff is reasonable but should be documented or fixed upstream.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-15T23:32:27.294926-06:00","created_by":"e","updated_at":"2026-02-15T23:32:27.294926-06:00","labels":["marmot-spec","vector"]}
{"id":"pika-qcp","title":"[Vector] No init_key zeroization (MIP-00)","description":"MDK has zeroize infrastructure: zeroize crate dependency with ZeroizeOnDrop derive, Secret\u003cT\u003e wrapper used for exporter secrets and image keys. However, SECURITY.md explicitly documents 'Secrets may remain in process memory after use' as a known limitation. Init_key cleanup after welcome processing is delegated to OpenMLS internals. Not a Vector-specific fix — upstream MDK/OpenMLS concern. Downgraded from P1.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-02-15T23:31:43.884829-06:00","created_by":"e","updated_at":"2026-02-15T23:42:51.52803-06:00","labels":["marmot-spec","vector"]}
{"id":"pika-xm0","title":"Reject hex-encoded key packages instead of normalizing (MIP-00 PR#38)","description":"marmot-protocol/marmot#38 removes hex encoding support from MIP-00/MIP-02. The encoding tag is now mandatory and MUST be base64; hex MUST be rejected.\n\nPika's interop.rs:44-111 (normalize_peer_key_package_event_for_mdk) currently silently converts hex→base64 for backward compat. After PR#38 merges, this should reject hex-encoded events instead of converting them.\n\nBlocked on: marmot-protocol/marmot#38 merging.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T10:23:09.068317-06:00","created_by":"e","updated_at":"2026-02-16T10:28:59.443308-06:00","closed_at":"2026-02-16T10:28:59.443308-06:00","close_reason":"Implemented in c9e1e0c. normalize_peer_key_package_event_for_mdk now returns Result and rejects events with missing or non-base64 encoding tags. All 3 call sites in mod.rs handle the error with user-facing toasts. kp_debug.rs updated similarly.","labels":["marmot-spec"]}
{"id":"pika-y3r","title":"Commit race condition handling: unverified — may be handled inside MDK","description":"MIP-03 specifies tie-break logic for competing Commits at the same epoch: 1) earliest created_at, 2) lexicographically smallest id, 3) discard others. Pika forwards kind-445 events directly to mdk.process_message() (mod.rs:1031) with only event-id dedup (session.rs:112). Whether MIP-03 tie-break logic is implemented is not verifiable from Pika code alone — it may be inside MDK. Needs MDK audit to confirm. Downgraded from P1 to P2 pending that audit.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-15T22:26:17.164803-06:00","created_by":"e","updated_at":"2026-02-15T22:40:43.397395-06:00","closed_at":"2026-02-15T22:40:43.397395-06:00","close_reason":"Confirmed: MDK epoch_snapshots.rs implements MIP-03 commit race resolution (earliest timestamp, then lexicographic ID). Not a pika-layer concern."}
{"id":"pika-z2o","title":"Design MIP for message expiration (disappearing messages)","description":"Design a Marmot MIP extension for disappearing/expiring messages. Add an expiration field to GroupDataExtension, dual-tag kind 9 rumor (MLS-authenticated) + kind 445 event (NIP-40 relay-visible), and define client-side cleanup behavior. See GitHub issue https://github.com/sledtools/pika/issues/122 for full research (NIP landscape, other Nostr chat apps, Marmot protocol gaps). Blocked by https://github.com/sledtools/pika/issues/68 (MDK needs delete_group API).","status":"open","priority":3,"issue_type":"feature","created_at":"2026-02-16T17:39:27.671858-06:00","created_by":"e","updated_at":"2026-02-16T17:39:35.511782-06:00"}
